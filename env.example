# ===========================================
# ThinNav Next.js 环境配置文件
# ===========================================

# ===========================================
# 数据库配置 (Database Configuration)
# ===========================================
# PostgreSQL 数据库连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名?参数
# 本地开发环境（包含连接池优化参数）
DATABASE_URL="postgresql://thinnav_user:thinnav_password@localhost:5432/thinnav?connection_limit=10&pool_timeout=60&connect_timeout=60"
# Docker 环境 (如果使用 docker-compose)
# DATABASE_URL="postgresql://thinnav_user:thinnav_password@postgres:5432/thinnav?connection_limit=15&pool_timeout=60&connect_timeout=60"
# 生产环境推荐配置（更多连接）
# DATABASE_URL="postgresql://thinnav_user:thinnav_password@localhost:5432/thinnav?connection_limit=20&pool_timeout=60&connect_timeout=60&socket_timeout=60"

# ===========================================
# 缓存配置 (Redis Configuration)
# ===========================================
# Redis 连接字符串
# 本地开发环境
REDIS_URL="redis://localhost:6379"
# Docker 环境 (如果使用 docker-compose)
# REDIS_URL="redis://redis:6379"
# 如果 Redis 有密码
# REDIS_URL="redis://:password@localhost:6379"

# ===========================================
# 认证配置 (Authentication Configuration)
# ===========================================
# NextAuth.js 密钥 (生产环境请务必更改)
NEXTAUTH_SECRET="thinnav-nextjs-secret-key-change-in-production-2024"
# 应用URL (根据部署环境调整)
NEXTAUTH_URL="http://localhost:3001"
# 生产环境示例
# NEXTAUTH_URL="https://your-domain.com"

# ===========================================
# 应用配置 (Application Configuration)
# ===========================================
# 运行环境
NODE_ENV="development"
# 生产环境设置为 "production"

# 文件上传目录
UPLOAD_DIR="./public/icons"

# 应用端口
PORT=3001

# ===========================================
# 功能开关 (Feature Flags)
# ===========================================
# 是否启用 Redis 缓存
ENABLE_REDIS_CACHE="true"

# 缓存过期时间 (秒)
CACHE_TTL="1800"

# 是否启用网站信息自动抓取
ENABLE_AUTO_FETCH="true"

# 网站抓取超时时间 (毫秒)
FETCH_TIMEOUT="10000"

# ===========================================
# 数据库性能配置 (Database Performance)
# ===========================================
# 数据库查询超时时间 (毫秒)
DATABASE_QUERY_TIMEOUT="30000"

# 是否启用数据库查询日志 (仅开发环境推荐)
ENABLE_QUERY_LOGGING="false"

# 数据库连接池大小 (会被DATABASE_URL中的connection_limit覆盖)
DATABASE_CONNECTION_LIMIT="10"

# ===========================================
# 日志配置 (Logging Configuration)
# ===========================================
# 日志级别: debug, info, warn, error
LOG_LEVEL="info"

# 是否启用详细日志
VERBOSE_LOGGING="false"

# ===========================================
# 安全配置 (Security Configuration)
# ===========================================
# 密码最小长度
MIN_PASSWORD_LENGTH="6"

# JWT Token 过期时间 (天)
TOKEN_EXPIRE_DAYS="7"

# 允许的文件上传大小 (MB)
MAX_FILE_SIZE="10"

# ===========================================
# 外部服务配置 (External Services)
# ===========================================
# 网站图标获取服务
FAVICON_SERVICE_URL="https://www.google.com/s2/favicons"

# 用户代理字符串 (用于网站信息抓取)
USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"

# ===========================================
# 开发配置 (Development Configuration)
# ===========================================
# 是否启用热重载
HOT_RELOAD="true"

# 是否显示详细错误信息
SHOW_ERROR_DETAILS="true"

# API 请求超时时间 (毫秒)
API_TIMEOUT="30000"